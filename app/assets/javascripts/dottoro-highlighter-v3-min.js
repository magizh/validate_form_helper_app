if(typeof Dottoro=="undefined")var Dottoro={};Dottoro.HighLighter={};Dottoro.HighLighter.Style_Classes=[];Dottoro.HighLighter.Style_Classes[0]=["asp_def"];Dottoro.HighLighter.Style_Classes[1]=["css_def","css_com","css_invalid","css_atrule","css_atrule_unknown","css_atrule_media","css_atrule_media_unknown","css_atrule_pageselector","css_atrule_value","css_atrule_value_unknown","css_id","css_class","css_type","css_type_unknown","css_attr","css_pseudo","css_pseudo_unknown","css_prop","css_prop_unknown","css_propvalue","css_propvalue_unknown"];Dottoro.HighLighter.Style_Classes[2]=["html_def","html_com","html_doctype","html_tagop","html_attrop","html_tag","html_tag_unknown","html_attr","html_attr_unknown","html_attrvalue","html_attrvalue_unknown"];Dottoro.HighLighter.Style_Classes[3]=["java_def"];Dottoro.HighLighter.Style_Classes[4]=["jscript_def","jscript_com","jscript_invalid","jscript_keyword","jscript_number","jscript_string","jscript_regexp","jscript_op","jscript_coreobj","jscript_globconst","jscript_globmethod","jscript_prop","jscript_method"];Dottoro.HighLighter.Style_Classes[5]=["jsp_def"];Dottoro.HighLighter.Style_Classes[6]=["php_def","php_outside","php_openclose","php_com","php_invalid","php_keyword","php_number","php_string","php_predef","php_op"];Dottoro.HighLighter.Style_Classes[7]=["vbscript_def","vbscript_com","vbscript_invalid","vbscript_keyword","vbscript_number","vbscript_string","vbscript_op","vbscript_opword","vbscript_opmultiline"];Dottoro.HighLighter.Style_Classes[8]=["xml_def","xml_com","xml_cdata","xml_invalid","xml_tagop","xml_attrop","xml_tag","xml_dectag","xml_doctype","xml_attr","xml_attrvalue"];Dottoro.HighLighter.printFrame=null;Dottoro.HighLighter.UnpackSpan=function(b,c){var a=b.charCodeAt(c)-64;c++;for(var d=0;c<b.length;){var f=b.charCodeAt(c);if(f<64||f>=192)break;d<<=7;d+=f-64;c++}return["<span class='"+Dottoro.HighLighter.Style_Classes[a][d]+"'>",c]};Dottoro.HighLighter.UnpackSource=function(b){for(var b=b.replace(/<a href="http:\/\/help\.dottoro\.com\//ig,'<a target="_blank" href="http://help.dottoro.com/'),c="",a=0;a<b.length;){var d=b.indexOf("<\!--",a);if(d==-1){c+=b.substring(a);break}else c+=b.substring(a,d);a=d+4;d=b.indexOf("--\>",a);if(d==-1)break;for(var a=b.substring(a,d),f="",e=0;e<a.length;)switch(a.charAt(e)){case "0":f+="</span>";e++;break;case "s":e=Dottoro.HighLighter.UnpackSpan(a,e+1);f+=e[0];e=e[1];break;case "S":e=Dottoro.HighLighter.UnpackSpan(a,e+1);f+="</span>"+e[0];e=e[1];break;default:e=a.length}c+=f;a=d+3}return c};Dottoro.HighLighter.GetRootElement=function(b){for(;b&&b.className.indexOf("dottoro_highlight")<0;)b=b.parentNode;return b};Dottoro.HighLighter.GetCodePreElement=function(b,c){var a=b;c||(a=Dottoro.HighLighter.GetRootElement(b));if(!a)return null;a=a.getElementsByTagName("pre");if(a.length==0)return null;if(a.length==2)return a[1];return a[0]};Dottoro.HighLighter.GetCodeText=function(b){b=Dottoro.HighLighter.GetCodePreElement(b,!1);if(!b)return"";if(b.innerText===void 0)return b.textContent;return b.innerText};Dottoro.HighLighter.OnViewPlainButton=function(b){b=Dottoro.HighLighter.GetCodeText(b);if(b!=null){var c=window.open("","plain","width=750, height=400, location=0, resizable=1, menubar=0, scrollbars=0,titlebar=0,directories=0,toolbar=0,channelmode=0,status=0");if(c.document.body){var a=c.document.createElement("textarea");a.wrap="off";a.spellcheck=!1;a.style.width="100%";a.style.height="100%";a.value=b;c.document.body.appendChild(a);c.focus&&c.focus();a.focus();a.select()}}};Dottoro.HighLighter.OnCopyButton=function(b){var c=!0;if(window.clipboardData){var a=Dottoro.HighLighter.GetCodeText(b);window.clipboardData.setData("text",a)}else if(a=Dottoro.HighLighter.GetCodePreElement(b,!1)){a=Dottoro.HighLighter.GetOuterHTML(a);a=Dottoro.HighLighter.CreateIframe(a);a.contentEditable=!0;var d=a.contentWindow.document,f=d.createRange();f.selectNodeContents(d.body);a.contentWindow.getSelection().addRange(f);try{d.execCommand("copy",!1,null)}catch(e){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect"),d.execCommand("copy",!1,null)}catch(g){c=!1,alert("Your browser doesn't allow clipboard access! Please copy the code manually.")}}document.body.removeChild(a)}c||Dottoro.HighLighter.OnViewPlainButton(b)};Dottoro.HighLighter.OnPrintButton=function(b){if(b=Dottoro.HighLighter.GetCodePreElement(b,!1))b=Dottoro.HighLighter.GetOuterHTML(b),window.opera?Dottoro.HighLighter.CreatePrintWindow(b):(Dottoro.HighLighter.printFrame?Dottoro.HighLighter.printFrame.contentWindow.document.body.innerHTML=b:Dottoro.HighLighter.printFrame=Dottoro.HighLighter.CreateIframe(b),Dottoro.HighLighter.printFrame.contentWindow.focus(),Dottoro.HighLighter.printFrame.contentWindow.print())};Dottoro.HighLighter.GetOuterHTML=function(b){if(b.outerHTML!==void 0)return b.outerHTML;if(document.createRange){var c=document.createRange();c.selectNode(b);b=c.cloneContents();c=document.createElement("div");c.appendChild(b);return c.innerHTML}return""};Dottoro.HighLighter.CollectStyles=function(){for(var b="",c=document.getElementsByTagName("link"),a=0;a<c.length;a++)c[a].rel.toLowerCase()=="stylesheet"&&(b+='<link type="text/css" rel="stylesheet" href="'+c[a].href+'"></link>');c=document.getElementsByTagName("style");for(a=0;a<c.length;a++){var d=c[a].styleSheet?c[a].styleSheet:c[a].sheet,f="";if(d.cssText===void 0)for(var e=0;e<d.cssRules.length;e++)f+=d.cssRules[e].cssText;else f+=d.cssText;b+="<style>"+f+"</style>"}return b};Dottoro.HighLighter.CreateIframe=function(b){var c=document.createElement("iframe");c.style.position="absolute";c.style.left="-1000px";c.style.top="-1000px";c.style.width="0px";c.style.height="0px";document.body.appendChild(c);var a="";a+="<!DOCTYPE html><html><head>";a+=Dottoro.HighLighter.CollectStyles();a+="</head><body>";a+=b;a+="</body></html>";b=c.contentWindow.document;b.open();b.write(a);b.close();return c};Dottoro.HighLighter.CreatePrintWindow=function(b){var c=window.open(""),a="";a+="<!DOCTYPE html><html><head>";a+=Dottoro.HighLighter.CollectStyles();a+='</head><body onload="window.print (); window.opener = self; self.close ();">';a+=b;a+="</body></html>";b=c.document;b.open();b.write(a);b.close();return c};Dottoro.HighLighter.UnpackCodes=function(){for(var b=document.getElementsByName("dr_hl_compressed"),c=0;c<b.length;c++){var a=Dottoro.HighLighter.GetCodePreElement(b[c],!1);if(a){var d=a.innerHTML;a.innerHTML=" ";a.innerHTML=a.innerHTML.length==0?"<pre>"+Dottoro.HighLighter.UnpackSource(d)+"</pre>":Dottoro.HighLighter.UnpackSource(d)}}};window.addEventListener?window.addEventListener("load",Dottoro.HighLighter.UnpackCodes,!1):window.attachEvent("onload",Dottoro.HighLighter.UnpackCodes);